<mat-card class="center">
  <form [formGroup]="personeelFG" (ngSubmit)="onSubmit()">
    <div class="form-row">
    <mat-form-field appearance="outline">
      <mat-label>Naam</mat-label>
      <input
        matInput
        placeholder="Naam"
        type="text"
        aria-label="name"
        #newPersoneelname
        required
        formControlName="name"
      />
      <mat-icon matSuffix>person</mat-icon>
      <mat-error
        *ngIf="
          personeelFG.get('name')['errors'] && personeelFG.get('name').touched
        "
      >
        {{ getErrorMessage(personeelFG.get("name")["errors"]) }}
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Functie</mat-label>
      <input
        matInput
        placeholder="Functie"
        type="text"
        aria-label="Functie"
        required
        formControlName="functie"
      />
      <mat-icon matSuffix>construction</mat-icon>
      <mat-error
        *ngIf="
          personeelFG.get('functie')['errors'] &&
          personeelFG.get('functie').touched
        "
      >
        {{ getErrorMessage(personeelFG.get("functie")["errors"]) }}
      </mat-error>
    </mat-form-field>
    </div>
    <div class="form-row"> 
      
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input
          matInput
          placeholder="pat@example.com"
          type="email"
          aria-label="email"
          required
          formControlName="email"
        />
        <mat-icon matSuffix>email</mat-icon>
        <mat-error
          *ngIf="
            personeelFG.get('email')['errors'] &&
            personeelFG.get('email').touched
          "
        >
          {{ getErrorMessage(personeelFG.get("email")["errors"]) }}
        </mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>TelefoonNummer</mat-label>
        <span matPrefix>+32 &nbsp;</span>
        <input
          matInput
          placeholder="478 19 15 17"
          type="tel"
          aria-label="telefoonNummer"
          required
          formControlName="telefoonNummer"
        />
        <mat-icon matSuffix>phone</mat-icon>
        <mat-error
          *ngIf="
            personeelFG.get('telefoonNummer')['errors'] &&
            personeelFG.get('telefoonNummer').touched
          "
        >
          {{ getErrorMessage(personeelFG.get("telefoonNummer")["errors"]) }}
        </mat-error>
      </mat-form-field>
    </div>
    
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>GeboorteDatum</mat-label>
        <input
          matInput 
          placeholder="GeboorteDatum" 
          type="date"  
          aria-label="GeboorteDatum"
          required
          formControlName="geboorteDatum"
        />
       
        <mat-error
          *ngIf="
            personeelFG.get('geboorteDatum')['errors'] &&
            personeelFG.get('geboorteDatum').touched
          "
        >
          {{ getErrorMessage(personeelFG.get("geboorteDatum")["errors"]) }}
        </mat-error>
        
      </mat-form-field>
    
      <mat-form-field appearance="outline">
        <mat-label>Datum in dienst</mat-label>
        <input
          matInput
          placeholder="DatumInDienst"
          type="date"
          aria-label="DatumInDienst"
          required
          formControlName="datumInDienst"
        />
        <mat-error
          *ngIf="
            personeelFG.get('datumInDienst')['errors'] &&
            personeelFG.get('datumInDienst').touched
          "
        >
          {{ getErrorMessage(personeelFG.get("datumInDienst")["errors"]) }}
        </mat-error>
      </mat-form-field>
    </div>

    <div formArrayName="adres">
      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Straat</mat-label>
          <input
            matInput
            type="text"
            placeholder="Straat"
            aria-label="Straat"
            formControlName="straat"
          />
          <mat-icon matSuffix>add_location</mat-icon>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>PostCode</mat-label>
          <input
            matInput
            type="text"
            aria-label="PostCode"
            placeholder="PostCode"
            formControlName="postcode"
          />
          <mat-icon matSuffix>edit_location_alt</mat-icon>
        </mat-form-field>
      </div>
      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>HuisNummer</mat-label>
          <input
            matInput
            placeholder="HuisNummer"
            aria-label="huisnummer"
            type="text"
            formControlName="huisnummer"
          />
          <mat-icon matSuffix>place</mat-icon>
        </mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Land</mat-label>
          <input
            matInput
            placeholder="Land"
            aria-label="land"
            type="text"
            formControlName="land"
          />
          <mat-icon matSuffix>not_listed_location</mat-icon>
        </mat-form-field>
      </div>
    </div>
    <mat-form-field>
      <mat-select #mySel  placeholder="selectedBewoners" multiple [ngModelOptions]="{standalone: true}" [(ngModel)]= "selectedBewoners">
        <mat-option *ngFor="let bewoner of BewonersList; let i =index" [value]="bewoner" (onSelectionChange)="onOut($event,i)"  >
        {{bewoner.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <div style="margin-top:1rem;">
      <ul>
        <li *ngFor="let item of selectedBewoners" style="padding:1rem;margin:.5rem;">
              {{item |json }}
        </li>
      </ul>
    </div>
    <button type="submit" mat-raised-button [disabled]="!personeelFG.valid">
      add Personeel
    </button>
  </form>
</mat-card>

{{ personeelFG.value | json }}
